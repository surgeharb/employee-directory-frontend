(this["webpackJsonpemployee-directory-frontend"]=this["webpackJsonpemployee-directory-frontend"]||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/employee2.628417fa.png"},101:function(e,t,a){e.exports=a.p+"static/media/employee3.2918610d.png"},102:function(e,t,a){e.exports=a.p+"static/media/employee4.ecf0fd3a.png"},114:function(e,t,a){e.exports=a(128)},119:function(e,t,a){},120:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(14),r=a.n(l),c=(a(119),a(104)),o=a(23),m=(a(120),a(103)),u=a(84),s=a.n(u),d=a(85),p=a.n(d),f=Object(m.a)({palette:{primary:s.a,secondary:p.a}}),E=a(182),b=a(181),g=a(169),y=a(190),v=a(183),h=a(22),N=a(15),j=a(37),O=a(36),S=a(29),x=a.n(S);function $(){var e=Object(O.a)(["\n  query Employee($id: String!) {\n    employee: getEmployee(id: $id) {\n      _id\n      phoneNumber\n      firstName\n      lastName\n      position\n      department\n      nationality\n      profilePicture\n    }\n  }\n"]);return $=function(){return e},e}function P(){var e=Object(O.a)(["\n  query GetEmployees($page: Int!, $pageSize: Int!) {\n    employees: getEmployees(page: $page, pageSize: $pageSize) {\n      _id\n      phoneNumber\n      firstName\n      lastName\n      position\n      department\n      nationality\n      profilePicture\n    }\n  }\n"]);return P=function(){return e},e}function C(){var e=Object(O.a)(["\n  query CountEmployees {\n    count: countEmployees\n  }\n"]);return C=function(){return e},e}var k=x()(C()),w=x()(P()),_=x()($());function I(){var e=Object(O.a)(["\n  mutation RemoveEmployee($id: String!) {\n    removeEmployee(id: $id) {\n      _id\n    }\n  }\n"]);return I=function(){return e},e}var F=x()(I()),z=a(172),A=a(188),L=a(176),W=a(175),B=a(177),D=a(178),R=a(34),q=a(161),G=a(191),T=Object(q.a)((function(e){return Object(G.a)({editBtn:{padding:e.spacing(.4)}})})),V=a(192),H=a(165),J=a(166),M=a(167),K=a(186),Q=a(91),U=a.n(Q);function X(e){var t=e.employee,a=e.fields,n=e.isSelected,l=e.onSelect,r=T();return i.a.createElement(J.a,null,i.a.createElement(M.a,{padding:"checkbox"},i.a.createElement(K.a,{checked:n,onClick:l})),a.map((function(e){var a,n=e.id;return i.a.createElement(M.a,{key:"".concat(t._id,"_").concat(n||"edit"),align:n?"left":"center"},n?t[n]:(a=t._id,i.a.createElement(R.b,{to:"/employees/".concat(a,"/identity")},i.a.createElement(V.a,{key:"".concat(t._id,"_edit"),title:"Edit"},i.a.createElement(H.a,{className:r.editBtn},i.a.createElement(U.a,{fontSize:"small"}))))))})))}var Y=a(168);function Z(e){var t=e.numSelected,a=e.rowCount,n=e.headCells,l=e.onSelectAllClick;return i.a.createElement(Y.a,null,i.a.createElement(J.a,null,i.a.createElement(M.a,{padding:"checkbox"},i.a.createElement(K.a,{indeterminate:t>0&&t<a,checked:a>0&&t===a,onChange:l})),n.map((function(e){return i.a.createElement(M.a,{key:e.id},e.label)}))))}var ee=Object(q.a)((function(e){return Object(G.a)({toolbar:{flex:1,justifyContent:"space-between"},btnMargin:{marginRight:e.spacing(2)}})})),te=a(170),ae=a(171),ne=a(93),ie=a.n(ne),le=a(92),re=a.n(le);function ce(e){var t=e.numSelected,a=e.onDelete,n=e.searchEnabled,l=ee();return i.a.createElement(ae.a,{className:l.toolbar},t>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{color:"inherit",variant:"subtitle1"},t," selected"),i.a.createElement(V.a,{title:"Delete",onClick:a},i.a.createElement(H.a,null,i.a.createElement(ie.a,null)))):i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{variant:"h6",id:"tableTitle"},"Employees List"),i.a.createElement("div",null,i.a.createElement(R.b,{to:"/employees/identity"},i.a.createElement(te.a,{variant:"outlined",color:"primary",className:n?l.btnMargin:void 0},"+ Add Employee")),n&&i.a.createElement(V.a,{title:"Search"},i.a.createElement(H.a,null,i.a.createElement(re.a,null))))))}var oe=function(e){var t=e.data,a=e.count,l=e.fields,r=e.loading,c=e.page,o=e.pageSize,m=e.handleChangePage,u=e.handleChangePageSize,s=Object(j.a)(F),d=Object(N.a)(s,1)[0],p=Object(n.useState)([]),f=Object(N.a)(p,2),E=f[0],b=f[1];return r?i.a.createElement(L.a,null):i.a.createElement(W.a,null,i.a.createElement(ce,{numSelected:E.length,onDelete:function(){E.forEach((function(e){return d({variables:{id:e}})})),b([])}}),i.a.createElement(B.a,null,i.a.createElement(D.a,null,i.a.createElement(Z,{headCells:l,rowCount:t.length,onSelectAllClick:function(){E.length?b([]):b(Object(h.a)(t.map((function(e){return e._id}))))},numSelected:E.length}),i.a.createElement(z.a,null,t.map((function(e){return i.a.createElement(X,{fields:l,key:e._id,employee:e,onSelect:function(){return function(e){var t=Object(h.a)(E),a=t.indexOf(e);a>=0?(t.splice(a,1),b(t)):(t.push(e),b(t))}(e._id)},isSelected:E.includes(e._id)})}))))),i.a.createElement(A.a,{component:"div",count:a,rowsPerPage:o,onChangePage:m,onChangeRowsPerPage:u,rowsPerPageOptions:[10,25,50],page:c}))};var me=function(e){var t,a,l=e.fields,r=Object(n.useState)(0),c=Object(N.a)(r,2),o=c[0],m=c[1],u=Object(n.useState)(10),s=Object(N.a)(u,2),d=s[0],p=s[1],f=Object(j.b)(k,{pollInterval:500}).data,E=Object(j.b)(w,{variables:{page:o,pageSize:d},pollInterval:500}),b=E.loading,g=E.data,y=[].concat(Object(h.a)(l),[{id:"",label:""}]),v=null!==(t=null===g||void 0===g?void 0:g.employees)&&void 0!==t?t:[];return i.a.createElement(oe,{count:null!==(a=null===f||void 0===f?void 0:f.count)&&void 0!==a?a:0,handleChangePageSize:function(e){p(+e.target.value),m(0)},handleChangePage:function(e,t){m(t)},fields:y,pageSize:d,loading:b,data:v,page:o})},ue=a(12),se=a(98),de=a(41);function pe(){var e=Object(O.a)(["\n  mutation AddEmployee(\n    $phoneNumber: Int!\n    $firstName: String!\n    $lastName: String!\n    $position: String!\n    $department: String!\n    $nationality: String!\n    $profilePicture: Float!\n  ) {\n    addEmployee(\n      phoneNumber: $phoneNumber\n      firstName: $firstName\n      lastName: $lastName\n      position: $position\n      department: $department\n      nationality: $nationality\n      profilePicture: $profilePicture\n    ) {\n      phoneNumber\n      firstName\n      lastName\n      position\n      department\n      nationality\n      profilePicture\n    }\n  }\n"]);return pe=function(){return e},e}var fe=x()(pe());function Ee(){var e=Object(O.a)(["\n  mutation EditEmployee(\n    $_id: String!\n    $phoneNumber: Int!\n    $firstName: String!\n    $lastName: String!\n    $position: String!\n    $department: String!\n    $nationality: String!\n    $profilePicture: Float!\n  ) {\n    editEmployee(\n      _id: $_id\n      phoneNumber: $phoneNumber\n      firstName: $firstName\n      lastName: $lastName\n      position: $position\n      department: $department\n      nationality: $nationality\n      profilePicture: $profilePicture\n    ) {\n      _id\n      phoneNumber\n      firstName\n      lastName\n      position\n      department\n      nationality\n      profilePicture\n    }\n  }\n"]);return Ee=function(){return e},e}var be=x()(Ee()),ge=Object(q.a)((function(e){return Object(G.a)({root:{display:"flex",flexWrap:"wrap",padding:e.spacing(2)},previewPaper:{height:"100%"},selectInputLabel:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1),backgroundColor:"#fff"},selector:{display:"inline-flex",paddingRight:e.spacing(2),paddingLeft:e.spacing(2)},textField:{margin:"8px!important"},avatar:{display:"inline-flex!important",width:"20px!important",height:"20px!important"},btns:{padding:e.spacing(2),textAlign:"center"},btnContainer:{flex:1,display:"flex",justifyContent:"space-around"},btn:{minWidth:"150px"}})})),ye=a(180),ve=a(197),he=a(184),Ne=a(193),je=a(195),Oe=a(198),Se=a(179),xe=a(189),$e=a(185),Pe=Object(q.a)((function(e){return Object(G.a)({root:{textAlign:"center"},infoGrid:{padding:e.spacing(4),paddingTop:0},subGrid:{maxWidth:"250px",textAlign:"left",margin:"8px auto","& > div":{lineHeight:2}},avatarContainer:{padding:e.spacing(4)},avatar:{display:"inline-flex",width:e.spacing(15),height:e.spacing(15)}})})),Ce=a(196),ke=a(99),we=a.n(ke),_e=a(100),Ie=a.n(_e),Fe=a(101),ze=a.n(Fe),Ae=a(102),Le=a.n(Ae),We=[{src:Ie.a,alt:"Red Suit Employee"},{src:ze.a,alt:"Blue Suit Employee"},{src:Le.a,alt:"Grey Suit Employee"},{src:we.a,alt:"Brown Suit Employee"}],Be=[{id:"phoneNumber",label:"Phone Number",type:"number"},{id:"firstName",label:"First Name"},{id:"lastName",label:"Last Name"},{id:"department",label:"Department"},{id:"position",label:"Position"},{id:"nationality",label:"Nationality"}],De=[{id:"profilePicture",label:"Profile Picture",type:"img-picker"}].concat(Be);function Re(e){var t,a=e.data,n=e.fields,l=e.getIdValue,r=Pe(),c=null!==(t=null===a||void 0===a?void 0:a.profilePicture)&&void 0!==t?t:0,o=c>0?We[c-1].alt:"img",m=c>0?We[c-1].src:void 0;return i.a.createElement(Se.a,{container:!0,className:r.root},i.a.createElement(Se.a,{item:!0,md:12,className:r.avatarContainer},i.a.createElement(je.a,{alt:o,src:m,className:r.avatar})),i.a.createElement(Se.a,{item:!0,md:12,className:r.infoGrid},n.filter((function(e){var t=e.id;return!["profilePicture"].includes(t)})).map((function(e){var t=e.id,a=e.label;return i.a.createElement(Se.a,{container:!0,key:t,className:r.subGrid},i.a.createElement(Se.a,{item:!0,xs:6},i.a.createElement("span",null,a),i.a.createElement("span",null,":\xa0")),i.a.createElement(Se.a,{item:!0,xs:6},i.a.createElement(Ce.a,{clickable:!0,label:l?l(t)||"none":t})))}))))}function qe(e){var t=e.data,a=e.fields,l=e.onDataChange,r=e.onSubmit,c=ge(),o=Object(de.g)(),m=Object(n.useState)(!1),u=Object(N.a)(m,2),s=u[0],d=u[1],p=Object(n.useState)(),f=Object(N.a)(p,2),E=f[0],y=f[1];function v(e){return"".concat((t&&e?t[e]:"")||"")}function h(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n="number"===a?/[^0-9]/g:"",i="".concat(e.target.value).replace(n,"");i=i.substr(0,30),["number","img-picker"].includes(a)&&(i=+i),l(t,i)}return i.a.createElement(i.a.Fragment,null,i.a.createElement(Se.a,{container:!0,spacing:3},i.a.createElement(Se.a,{item:!0,xs:12,sm:12,md:6},i.a.createElement(W.a,null,i.a.createElement("form",{noValidate:!0,autoComplete:"off",className:c.root},a.map((function(e){var t=e.id,a=e.label,n=e.type,l=v(t),r=E===t;return"img-picker"===n?i.a.createElement(ye.a,{key:"".concat(t,"-input"),variant:"outlined",fullWidth:!0,className:c.textField},i.a.createElement(ve.a,{id:"".concat(t,"-label"),className:c.selectInputLabel},a),i.a.createElement(he.a,{id:t,value:l,labelId:"".concat(t,"-label"),onChange:function(e){return h(e,t,n)}},i.a.createElement(Ne.a,{value:0},i.a.createElement("em",null,"None")),We.map((function(e,t){return i.a.createElement(Ne.a,{key:t,value:t+1},i.a.createElement(je.a,{alt:e.alt,src:e.src,className:c.avatar}),i.a.createElement(g.a,{className:c.selector},e.alt))})))):i.a.createElement(Oe.a,{id:t,key:t,required:!0,fullWidth:!0,label:a,value:l,variant:"outlined",className:c.textField,onChange:function(e){return h(e,t,n)},InputLabelProps:{shrink:!!l||r},onBlur:function(){return r&&y("")},onFocus:function(){return y(t)}})}))))),i.a.createElement(Se.a,{item:!0,xs:12,sm:12,md:6},i.a.createElement(W.a,{className:c.previewPaper},i.a.createElement(Re,{data:t,fields:a,getIdValue:v}))),i.a.createElement(Se.a,{item:!0,xs:12},i.a.createElement(W.a,{className:c.btns},i.a.createElement(b.a,{maxWidth:"xs",className:c.btnContainer},i.a.createElement(R.b,{to:"/employees"},i.a.createElement(te.a,{variant:"contained",color:"secondary",className:c.btn},"Discard")),i.a.createElement(te.a,{variant:"contained",color:"primary",className:c.btn,onClick:function(){a.map((function(e){return!!v(e.id)})).includes(!1)?(d(!0),setTimeout((function(){d(!1)}),2e3)):(o.goBack(),r())}},"Save Employee"))))),i.a.createElement(xe.a,{open:s},i.a.createElement($e.a,{severity:"error"},"All the fields are required!")))}var Ge=function(e){var t=e.fields,a=Object(de.i)().id,l=void 0===a?"":a,r=Object(j.a)(fe),c=Object(N.a)(r,1)[0],o=Object(j.a)(be),m=Object(N.a)(o,1)[0],u=Object(n.useState)(),s=Object(N.a)(u,2),d=s[0],p=s[1],f=Object(j.b)(_,{variables:{id:l}}).data;return Object(n.useEffect)((function(){(null===f||void 0===f?void 0:f.employee)&&p(f.employee)}),[f]),i.a.createElement(qe,{data:d,fields:t,onDataChange:function(e,t){var a=d||{_id:""};p(Object(se.a)({},a,Object(ue.a)({},e,t)))},onSubmit:function(){var e={variables:d};l?m(e):c(e)}})},Te=new c.a({uri:"https://api.directory.sergeharb.com/graphql"});function Ve(){var e=Object(de.h)().pathname.includes("identity");return i.a.createElement(E.a,{theme:f},i.a.createElement(o.a,{client:Te},i.a.createElement(b.a,{maxWidth:"xl",className:"Root-Container"},i.a.createElement(g.a,{variant:"h4",className:"Root-Title"},"Employee Directory"),i.a.createElement(y.a,null,i.a.createElement(R.b,{to:"/employees",activeClassName:"Link-Active"},i.a.createElement(g.a,{color:"textPrimary"},"Employees List")),e&&i.a.createElement(g.a,{color:"textPrimary"},"Identity")),i.a.createElement("div",{className:"Header-divider"},i.a.createElement(v.a,null)),i.a.createElement(de.d,null,i.a.createElement(de.b,{exact:!0,path:"/employees"},i.a.createElement(me,{fields:Be})),i.a.createElement(de.b,{exact:!0,path:"/employees/identity"},i.a.createElement(Ge,{fields:De})),i.a.createElement(de.b,{exact:!0,path:"/employees/:id/identity"},i.a.createElement(Ge,{fields:De})),i.a.createElement(de.b,{exact:!0,path:"/"},i.a.createElement(de.a,{to:"/employees"})),i.a.createElement(de.b,{path:"*"},i.a.createElement(de.a,{to:"/employees"}))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement((function(){return i.a.createElement(R.a,null,i.a.createElement(Ve,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,t,a){e.exports=a.p+"static/media/employee1.61af74d7.png"}},[[114,1,2]]]);
//# sourceMappingURL=main.ee16675a.chunk.js.map